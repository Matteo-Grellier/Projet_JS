<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet" />
    <title>Document</title>
    <link href="https://rawcdn.githack.com/akabab/superhero-api/0.2.0/api/all.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="neons">
        <h1><em>Projet JS : Find your SuperHeroe </em></h1>
    </div>
    <br>
    <br>
    <form>
        <div class="search">
            <input type="text" id="srchContent" placeholder="search for a character">
            <button type="submit" id="srch">search</button>
            <button type="submit" id="nuke">clear search</button>
        </div>
    </form>
    <br>
    <form>
        <div class="tri">
            <button id="reverse" type="submit">tri : alphabétique</button>
            <br>
            <br>
            <button id="size" type="submit">tri : taille</button>
            <button id="weight" type="submit">tri : poids</button>
        </div>
        <br>
        <div class="page">
            <button id="page-pre" type="submit">page precédente</button>
            <button id="page-nxt" type="submit">page suivante</button>
        </div>
    </form>
    <br>
    <form>
        <div class="btn">
            <text>Choose page size</text>
            <br>
            <button id="btn-10" type="submit" name="button-10" value="10">10</button>
            <button id="btn-20" type="submit" name="button-20" value="20">20</button>
            <button id="btn-50" type="submit" name="button-50" value="50">50</button>
            <button id="btn-100" type="submit" name="button-100" value="100">100</button>
        </div>
    </from>
    <br>
    <br>
    <div id="myData"></div>
    <script type="module">
        import { display } from './js/main.js'
        display()
    </script>
    <table border= 1 id="tab" style="width:100%">
        <tr>
            <th>Icon</th>
            <th onclick="sortTable(1)">Name</th>
            <th onclick="sortTable(2)">Full Name</th>
            <th>Powerstats</th>
            <th onclick="sortTable(3)">Race</th>
            <th onclick="sortTable(4)">Gender</th>
            <th>Height</th>
            <th>Weight</th>
            <th onclick="sortTable(5)">Place of birth</th>
            <th>Alignment</th>
        </tr>
    </table>
    <script>
      function sortTable(n) {
        var table = 0;
        var rows = 0;
        var tri = 0;
        var i = 0;
        var a = 0;
        var b = 0;
        var shouldTri = 0;
        var dir = 0;
        var triCount = 0;
        table = document.getElementById("tab");
        tri = true;
        dir = "asc"; 
        while (tri) {
          tri = false;
          rows = table.rows;
          for (i = 1; i < (rows.length - 1); i++) {
            shouldTri = false;
            a = rows[i].getElementsByTagName("TD")[n];
            b = rows[i + 1].getElementsByTagName("TD")[n];
            if (dir == "asc") {
              if (a.innerHTML.toLowerCase() > b.innerHTML.toLowerCase()) {
                shouldTri= true;
                break;
              }
            } else if (dir == "desc") {
              if (a.innerHTML.toLowerCase() < b.innerHTML.toLowerCase()) {
                shouldTri = true;
                break;
              }
            }
          }
          if (shouldTri) {
            rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
            tri = true;
            triCount ++;      
          } else {
            if (triCount == 0 && dir == "asc") {
              dir = "desc";
              tri = true;
            }
          }
        }
        }
   </script>
</body>
</html>       